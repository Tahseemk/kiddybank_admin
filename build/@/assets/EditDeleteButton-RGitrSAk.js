import{j as t,i as C,r as N,S as P,e as T,u as E,d as f,L as $}from"./index-n-Mj-w5F.js";import{b as F,f as I,a as S}from"./Layout-Uoy8HDDZ.js";import{s as O}from"./spinner-R50PTWTV.js";import{A as R}from"./AdminServices-G0hlKUD3.js";import{P as M,d as D,C as y,b as H,A as p}from"./ProductServices-ppfcihlB.js";import{u as K,L as B}from"./DrawerButton-CC7bgkMS.js";import{n,a as b}from"./toast--43O7F4z.js";import{D as V}from"./NotFound-q_Rgz-SQ.js";const j=({id:r,Icon:l,title:c,bgColor:d})=>t.jsxs(t.Fragment,{children:[t.jsx("p",{"data-tip":!0,"data-for":r,className:"text-xl",children:t.jsx(l,{})}),t.jsx(V,{id:r,backgroundColor:d,children:t.jsx("span",{className:"text-sm font-medium",children:c})})]}),Z=({id:r,ids:l,setIsCheck:c,category:d,title:m,useParamId:h})=>{const{isModalOpen:g,closeModal:s,setIsUpdate:a}=N.useContext(P),{setServiceId:i}=K(),u=T(),[L,o]=N.useState(!1),A=async()=>{var w,v;try{if(o(!0),u.pathname==="/products")if(l){const e=await M.deleteManyProducts({ids:l});a(!0),n(e.message),c([]),i(),s(),o(!1)}else{const e=await M.deleteProduct(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/coupons")if(l){const e=await D.deleteManyCoupons({ids:l});a(!0),n(e.message),c([]),i(),s(),o(!1)}else{const e=await D.deleteCoupon(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/categories"||d)if(l){const e=await y.deleteManyCategory({ids:l});a(!0),n(e.message),c([]),i(),s(),o(!1)}else{if(r===void 0||!r)return b("Please select a category first!"),o(!1),s();const e=await y.deleteCategory(r);a(!0),n(e.message),s(),i(),o(!1)}else if(u.pathname===`/categories/${h}`||d){if(r===void 0||!r)return b("Please select a category first!"),o(!1),s();const e=await y.deleteCategory(r);a(!0),n(e.message),s(),i(),o(!1)}if(u.pathname==="/customers"){const e=await H.deleteCustomer(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/attributes")if(l){const e=await p.deleteManyAttribute({ids:l});a(!0),n(e.message),c([]),i(),s(),o(!1)}else{const e=await p.deleteAttribute(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname===`/attributes/${u.pathname.split("/")[2]}`)if(l){const e=await p.deleteManyChildAttribute({id:u.pathname.split("/")[2],ids:l});a(!0),n(e.message),i(),c([]),s(),o(!1)}else{const e=await p.deleteChildAttribute({id:r,ids:u.pathname.split("/")[2]});a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/our-staff"){const e=await R.deleteStaff(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/languages")if(l){const e=await B.deleteManyLanguage({ids:l});a(!0),n(e.message),c([]),s(),o(!1)}else{const e=await B.deleteLanguage(r);a(!0),n(e.message),i(),s(),o(!1)}if(u.pathname==="/currencies")if(l){const e=await CurrencyServices.deleteManyCurrency({ids:l});a(!0),n(e.message),c([]),s(),o(!1)}else{const e=await CurrencyServices.deleteCurrency(r);a(!0),n(e.message),i(),s(),o(!1)}}catch(e){b(e?(v=(w=e==null?void 0:e.response)==null?void 0:w.data)==null?void 0:v.message:e==null?void 0:e.message),i(),c([]),s(),o(!1)}},{t:x}=E();return t.jsx(t.Fragment,{children:t.jsxs(f.Modal,{isOpen:g,onClose:s,children:[t.jsxs(f.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[t.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:t.jsx(F,{})}),t.jsxs("h2",{className:"text-xl font-medium mb-2",children:[x("DeleteModalH2")," ",t.jsx("span",{className:"text-red-500",children:m}),"?"]}),t.jsx("p",{children:x("DeleteModalPtag")})]}),t.jsxs(f.ModalFooter,{className:"justify-center",children:[t.jsx(f.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:s,children:x("modalKeepBtn")}),t.jsx("div",{className:"flex justify-end",children:L?t.jsxs(f.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[t.jsx("img",{src:O,alt:"Loading",width:20,height:10})," ",t.jsx("span",{className:"font-serif ml-2 font-light",children:x("Processing")})]}):t.jsx(f.Button,{onClick:A,className:"w-full h-12 sm:w-auto",children:x("modalDeletBtn")})})]})]})})},X=C.memo(Z),Y=({id:r,title:l,handleUpdate:c,handleModalOpen:d,isCheck:m,product:h,parent:g,children:s})=>{const{t:a}=E();return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex justify-end text-right",children:[(s==null?void 0:s.length)>0?t.jsxs(t.Fragment,{children:[t.jsx($,{to:`/categories/${g==null?void 0:g._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:t.jsx(j,{id:"view",Icon:I,title:a("View"),bgColor:"#10B981"})}),t.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>c(r),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:t.jsx(j,{id:"edit",Icon:S,title:a("Edit"),bgColor:"#10B981"})})]}):t.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>c(r),className:"p-2 cursor-pointer text-gray-400 hover:text-emerald-600 focus:outline-none",children:t.jsx(j,{id:"edit",Icon:S,title:a("Edit"),bgColor:"#10B981"})}),t.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>d(r,l,h),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:t.jsx(j,{id:"delete",Icon:F,title:a("Delete"),bgColor:"#EF4444"})})]})})};export{X as D,Y as E,j as T};
